<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>ILL Reports (VDX)</title>
        <link rel="shortcut icon" href="http://intracdl.cdlib.org/favicon.ico" />
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous" />
        <link rel="stylesheet" href="report.css" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
    </head>
    <body>
        <div class="container">
            <br/>
            <p class="text-center"><img src="CDL_Logo.png" class="banner" alt="University of California - California Digital Library" /></p>
            <h1 class="page-header">ILL Reports</h1>
            <p>Reports are generated from a snapshot of the VDX production database, current to within 24-48 hours. The database includes active and archived ILL records, 2003 to present.</p>
            <p>
                <strong>Note:</strong> Some loans take several days to fill. Reports covering the last few business days could change on a daily basis.
            </p>
            <div class="hidden-print">
                <h2>Search</h2>
                <form action="/#results" method="post">
                    <div class="row">
                        <div class="col-sm-4">
                            <label for="campus">Campus</label><br/>
                            <select id="campus" name="campus" class="form-control">
                                <option value="">Please select your campus</option>
                                <option th:each="campus : ${campuses}" th:value="${campus.code}" th:text="${campus.description}" th:selected="${campus.code eq campusDefault}"></option>
                            </select>
                        </div>
                        <div class="col-sm-3">
                            <label for="from">Begin Date</label><br/>
                            <input id="from" name="from" class="form-control" type="text" placeholder="YYYY-MM-DD" th:value="${searchStartDate}" required="required" aria-describedby="beginDateDescr"/>
                            <p id="beginDateDescr" class="text-muted">Please enter date as YYYY&#8209;MM&#8209;DD.</p>
                        </div>
                        <div class="col-sm-3">
                            <label for="to">End Date</label><br/>
                            <input id="to" name="to" class="form-control" type="text" placeholder="YYYY-MM-DD" th:value="${searchEndDate}" required="required" aria-describedby="endDateDescr"/>
                            <p id="endDateDescr" class="text-muted">Please enter date as YYYY&#8209;MM&#8209;DD.</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12">
                            <input name="command" type="submit" value="Search" class="btn" />
                        </div>
                    </div>
                </form>
            </div>

            <hr id="results" th:if="${not #lists.isEmpty(reports)}" aria-label="Search Results" class="hidden-print"/>

            <section class="page-break" th:each="report : ${reports}">
                <h2 th:text="|${report.campusCode} (${searchStartDate} &mdash; ${searchEndDate})|"></h2>

                <table class="table">
                    <caption>Summary of Borrowing and Lending</caption>
                    <thead>
                        <tr>
                            <th scope="col">Library</th>
                            <th></th>
                            <th scope="col">UC</th>
                            <th scope="col">OCLC</th>
                            <th scope="col">ISO</th>
                            <th scope="col">All Categories</th>
                        </tr>
                    </thead>
                    <tbody th:each="library : ${report.institutionReports}">
                        <tr class="borrowing-row">
                            <th scope="row" rowspan="2" class="library-header" th:text="${library.name}"></th>
                            <td><i class="fa fa-sign-in" aria-hidden="true"></i> Borrowing</td>
                            <td th:text="${library.totalUCBorrowing}"></td>
                            <td th:text="${library.totalOCLCBorrowing}"></td>
                            <td th:text="${library.totalISOBorrowing}"></td>
                            <td th:text="${library.totalBorrowing}"></td>
                        </tr>
                        <tr class="lending-row">
                            <td><i class="fa fa-sign-out" aria-hidden="true"></i> Lending</td>
                            <td th:text="${library.totalUCLending}"></td>
                            <td th:text="${library.totalOCLCLending}"></td>
                            <td th:text="${library.totalISOLending}"></td>
                            <td th:text="${library.totalLending}"></td>
                        </tr>
                    </tbody>
                    <tbody>
                        <tr class="total-row">
                            <th scope="row" rowspan="2">All Libraries</th>
                            <th scope="row">Total Borrowing</th>
                            <td th:text="${report.totalUCBorrowing}"></td>
                            <td th:text="${report.totalOCLCBorrowing}"></td>
                            <td th:text="${report.totalISOBorrowing}"></td>
                            <td th:text="${report.totalBorrowing}"></td>
                        </tr>
                        <tr class="total-row">
                            <th scope="row">Total Lending</th>
                            <td th:text="${report.totalUCLending}"></td>
                            <td th:text="${report.totalOCLCLending}"></td>
                            <td th:text="${report.totalISOLending}"></td>
                            <td th:text="${report.totalLending}"></td>
                        </tr>
                    </tbody>
                </table>

                <h3>Data Extract</h3>

                <div class="row">
                    <div class="col-sm-4"><strong>Borrowing Data Extract</strong></div>
                    <div class="col-sm-2">
                        <i class="fa fa-file-text-o" aria-hidden="true"></i>&nbsp;<a th:href="@{'/ill/data/by-campus/' + ${report.campusCode} + '/borrowing.csv?startDate=' + ${searchStartDate} + '&amp;endDate=' + ${searchEndDate}}">CSV</a>
                        <i class="fa fa-code" aria-hidden="true"></i>&nbsp;<a th:href="@{'/ill/data/by-campus/' + ${report.campusCode} + '/borrowing.xml?startDate=' + ${searchStartDate} + '&amp;endDate=' + ${searchEndDate}}">XML</a>
                        {&nbsp;}&nbsp;<a th:href="@{'/ill/data/by-campus/' + ${report.campusCode} + '/borrowing.json?startDate=' + ${searchStartDate} + '&amp;endDate=' + ${searchEndDate}}">JSON</a>
                    </div>
                    <div class="col-sm-6">
                        Data extract with all fields for download or analysis.
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-4"><strong>Lending Data Extract</strong></div>
                    <div class="col-sm-2">
                        <i class="fa fa-file-text-o" aria-hidden="true"></i>&nbsp;<a th:href="@{'/ill/data/by-campus/' + ${report.campusCode} + '/lending.csv?startDate=' + ${searchStartDate} + '&amp;endDate=' + ${searchEndDate}}">CSV</a>
                        <i class="fa fa-code" aria-hidden="true"></i>&nbsp;<a th:href="@{'/ill/data/by-campus/' + ${report.campusCode} + '/lending.xml?startDate=' + ${searchStartDate} + '&amp;endDate=' + ${searchEndDate}}">XML</a>
                        {&nbsp;}&nbsp;<a th:href="@{'/ill/data/by-campus/' + ${report.campusCode} + '/lending.json?startDate=' + ${searchStartDate} + '&amp;endDate=' + ${searchEndDate}}">JSON</a>
                    </div>
                    <div class="col-sm-6">
                        Data extract with all fields for download or analysis.
                    </div>
                </div>

                <h3>Service &amp; Delivery Statistics</h3>

                <div class="row">
                    <div class="col-sm-4"><strong>UC Borrowing Statistics</strong></div>
                    <div class="col-sm-2">
                        <i class="fa fa-file-text-o" aria-hidden="true"></i>&nbsp;<a th:href="@{'/ill/stats/by-campus/' + ${report.campusCode} + '/borrowing_uc.csv?startDate=' + ${searchStartDate} + '&amp;endDate=' + ${searchEndDate}}">CSV</a>
                    </div>
                    <div class="col-sm-6">
                        Borrowing from UC by campus, library, responder, service type, ship delivery method.
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-4"><strong>OCLC Borrowing Statistics</strong></div>
                    <div class="col-sm-2">
                        <i class="fa fa-file-text-o" aria-hidden="true"></i>&nbsp;<a th:href="@{'/ill/stats/by-campus/' + ${report.campusCode} + '/borrowing_oclc.csv?startDate=' + ${searchStartDate} + '&amp;endDate=' + ${searchEndDate}}">CSV</a>
                    </div>
                    <div class="col-sm-6">
                        Borrowing from OCLC by campus, library, responder, service type.
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-4"><strong>Lending Statistics</strong></div>
                    <div class="col-sm-2">
                        <i class="fa fa-file-text-o" aria-hidden="true"></i>&nbsp;<a th:href="@{'/ill/stats/by-campus/' + ${report.campusCode} + '/lending.csv?startDate=' + ${searchStartDate} + '&amp;endDate=' + ${searchEndDate}}">CSV</a>
                    </div>
                    <div class="col-sm-6">
                        Summary of lending by campus, library, requester library type, requester location, service type, ship delivery method.
                    </div>
                </div>

                <h3>Patron Category Statistics</h3>

                <div class="row">
                    <div class="col-sm-4"><strong>Borrowing Patron Statistics</strong></div>
                    <div class="col-sm-2">
                        <i class="fa fa-file-text-o" aria-hidden="true"></i>&nbsp;<a th:href="@{'/ill/stats/by-campus/' + ${report.campusCode} + '/borrowing_patron.csv?startDate=' + ${searchStartDate} + '&amp;endDate=' + ${searchEndDate}}">CSV</a>
                    </div>
                    <div class="col-sm-6">
                        Summary of borrowing by campus, library, responder, service type, patron category.
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-4"><strong>Lending Patron Statistics</strong></div>
                    <div class="col-sm-2">
                        <i class="fa fa-file-text-o" aria-hidden="true"></i>&nbsp;<a th:href="@{'/ill/stats/by-campus/' + ${report.campusCode} + '/lending_patron.csv?startDate=' + ${searchStartDate} + '&amp;endDate=' + ${searchEndDate}}">CSV</a>
                    </div>
                    <div class="col-sm-6">
                        Summary of lending by campus, library, requester, service type, patron category.
                    </div>
                </div>

                <h3>Turnaround Time Statistics</h3>

                <div class="row">
                    <div class="col-sm-4"><strong>Borrowing Turnaround Time Statistics</strong></div>
                    <div class="col-sm-2">
                        <i class="fa fa-file-text-o" aria-hidden="true"></i>&nbsp;<a th:href="@{'/ill/stats/by-campus/' + ${report.campusCode} + '/borrowing_tat.csv?startDate=' + ${searchStartDate} + '&amp;endDate=' + ${searchEndDate}}">CSV</a>
                    </div>
                    <div class="col-sm-6">
                        Turn-around time for borrowing by campus, library, service type, ship delivery method.
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-4"><strong>Lending Turnaround Time Statistics</strong></div>
                    <div class="col-sm-2">
                        <i class="fa fa-file-text-o" aria-hidden="true"></i>&nbsp;<a th:href="@{'/ill/stats/by-campus/' + ${report.campusCode} + '/lending_tat.csv?startDate=' + ${searchStartDate} + '&amp;endDate=' + ${searchEndDate}}">CSV</a>
                    </div>
                    <div class="col-sm-6">
                        Turn-around time for lending by campus, library, service type, ship delivery method.
                    </div>
                </div>

                <h3>Unfilled Loans</h3>

                <div class="row">
                    <div class="col-sm-4"><strong>Unfilled Borrowing Summary Statistics</strong></div>
                    <div class="col-sm-2">
                        <i class="fa fa-file-text-o" aria-hidden="true"></i>&nbsp;<a th:href="@{'/ill/stats/by-campus/' + ${report.campusCode} + '/borrowing_unfilled.csv?startDate=' + ${searchStartDate} + '&amp;endDate=' + ${searchEndDate}}">CSV</a>
                    </div>
                    <div class="col-sm-6">
                        Summary of unfilled borrowing requests by campus, library, service type.
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-4"><strong>Unfilled Lending Detail Data Extract</strong></div>
                    <div class="col-sm-2">
                        <i class="fa fa-file-text-o" aria-hidden="true"></i>&nbsp;<a th:href="@{'/ill/data/by-campus/' + ${report.campusCode} + '/lending_unfilled.csv?startDate=' + ${searchStartDate} + '&amp;endDate=' + ${searchEndDate}}">CSV</a>
                    </div>
                    <div class="col-sm-6">
                        Unfilled lending requests sorted by campus, library, requester library type, requester location, illno.
                    </div>
                </div>

                <h3>Other Reports</h3>

                <div class="row">
                    <div class="col-sm-4"><strong>Copyright Clearance Report</strong></div>
                    <div class="col-sm-2">
                        <i class="fa fa-file-text-o" aria-hidden="true"></i>&nbsp;<a th:href="@{'/ill/stats/by-campus/' + ${report.campusCode} + '/copyright.csv?startDate=' + ${searchStartDate} + '&amp;endDate=' + ${searchEndDate}}">CSV</a>
                    </div>
                    <div class="col-sm-6">
                        Copy non returnable requests by title and year of publication.
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-4"><strong>Interlibrary Journal Borrowing Report</strong></div>
                    <div class="col-sm-2">
                        <i class="fa fa-file-text-o" aria-hidden="true"></i>&nbsp;<a th:href="@{'/ill/stats/by-campus/' + ${report.campusCode} + '/journal_borrowing.csv?startDate=' + ${searchStartDate} + '&amp;endDate=' + ${searchEndDate}}">CSV</a>    
                    </div>
                    <div class="col-sm-6">
                        Copy non returnable requests by title, year, issue title, pagination, and patron category.
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-4"><strong>Lending Billing Report Data Extract</strong></div>
                    <div class="col-sm-2">
                        <i class="fa fa-file-text-o" aria-hidden="true"></i>&nbsp;<a th:href="@{'/ill/data/by-campus/' + ${report.campusCode} + '/lending_billing.csv?startDate=' + ${searchStartDate} + '&amp;endDate=' + ${searchEndDate}}">CSV</a>    
                    </div>
                    <div class="col-sm-6">
                        Selected fields from the lending extract.
                    </div>
                </div>

                <hr class="hidden-print" />
            </section>
        </div>

        <p class="text-center page-break">
            <br/>
            <br/>
            Copyright &copy; 2017 The Regents of The University of California &nbsp; <img src="uc_seal.gif" alt="University of California Seal" /> &nbsp; California Digital Library
            <br/>
            <a href="mailto:vdxtrouble-l@ucop.edu">Questions? Comments?</a>
        </p>
    </body>
</html>